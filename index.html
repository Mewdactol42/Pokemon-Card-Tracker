<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#ffffff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon-192.png">
  <title>Pokémon Card Tracker</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 1rem;
      background: #f8f8f8;
      color: #333;
    }

    h1 {
      font-size: 1.5rem;
      text-align: center;
    }

    #search {
      width: 100%;
      padding: 0.5rem;
      margin-bottom: 1rem;
      font-size: 1rem;
    }

    .pokemon-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .pokemon-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem;
      background: white;
      border-radius: 0.5rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    label {
      flex: 1;
      padding-left: 0.5rem;
    }

    #counter {
      text-align: center;
      margin-top: 1rem;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <h1>Pokémon Card Tracker</h1>
  <input type="text" id="search" placeholder="Search Pokémon...">

  <div id="counter">Collected: 0 / 1025</div>

  <div class="pokemon-list" id="pokemonList"></div>

  <script>
    const pokemon = [
      [1, "Bulbasaur"], [2, "Ivysaur"], [3, "Venusaur"], 
      // ... Add the rest up to 1025
      [1025, "Pecharunt"]
    ];

    const list = document.getElementById("pokemonList");
    const searchInput = document.getElementById("search");
    const counter = document.getElementById("counter");

    function renderList(filter = "") {
      const collected = JSON.parse(localStorage.getItem("collected") || "{}");
      list.innerHTML = "";

      const filtered = pokemon.filter(([id, name]) =>
        name.toLowerCase().includes(filter.toLowerCase())
      );

      filtered.forEach(([id, name]) => {
        const item = document.createElement("div");
        item.className = "pokemon-item";

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = collected[id];
        checkbox.addEventListener("change", () => {
          collected[id] = checkbox.checked;
          localStorage.setItem("collected", JSON.stringify(collected));
          updateCounter();
        });

        const label = document.createElement("label");
        label.textContent = `${id}. ${name}`;

        item.appendChild(checkbox);
        item.appendChild(label);
        list.appendChild(item);
      });

      updateCounter();
    }

    function updateCounter() {
      const collected = JSON.parse(localStorage.getItem("collected") || "{}");
      const count = Object.values(collected).filter(Boolean).length;
      counter.textContent = `Collected: ${count} / ${pokemon.length}`;
    }

    searchInput.addEventListener("input", () => {
      renderList(searchInput.value);
    });

    renderList();

    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("sw.js").then(() => {
        console.log("Service Worker registered.");
      });
    }
  </script>
</body>
</html>